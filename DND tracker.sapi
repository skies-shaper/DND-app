dndthing.sapi:⮑@graphics⮑@event-driven⮑function main()⮑⮑  var window, text, lvl3spells, lvl2spells, lvl1spells, sorcerypts, hp⮑  window = sprite("uicontrol")⮑  text = sprite("text")⮑  ⮑  hp = 27⮑  sorcerypts = 5⮑  lvl3spells = 2⮑  lvl2spells = 3⮑  lvl1spells = 4⮑  onevent("health","hdlhp")⮑  onevent("close","close")⮑  window:initapp()⮑  appinit()⮑endfmain⮑⮑function hdlhp(change)⮑println([change])⮑endfhdlhp⮑⮑function close()⮑window:hide()⮑println("\cff0000program ended")⮑endprog()⮑endfclose⮑⮑function appinit()⮑  window:reset()⮑  text:reset()⮑  text:setsize(100)⮑  text:write("charactername: beep-boop iii\nsorcery points:",-195,150)⮑  text:write(concat("level one spells: ",[lvl1spells]," level 2 spells: ",[lvl2spells]," level 3 spells: ",[lvl3spells]),-195,100)⮑⮑  attackbox(-170,77,"lightning bolt","8d6 lightning","100 by 5ft line","dexterity save for half \ndamage",3)⮑  attackbox(-35,77,"counterspell","-","60ft","for a reaction, interrupt\n a spell",3)⮑  attackbox(-170,-7,"shatter","3d8 thunder","60ft","con save for half damage",2)⮑  attackbox(100,77,"hold person","-","60ft","humanoid in range must \nsucceed wis save. paralysis \nfor 1 min / until success.",2)⮑  attackbox(-35,-7,"sleep","-","90ft","5d8 hp creatures unconscious\nuntil attacked or 1 min \npasses",1)⮑  attackbox(100,-7,"shield","+5ac","self","lasts untl next turn, \nreaction",1)⮑  attackbox(-170,-91,"mending","+ 1d6+1", "touch","take 10 rounds \nto repair 1 hit die +con")⮑  attackbox(-35,-91, "poison spray", "2d12 poison","10ft","creature must succeed \non a con save or take the \ndamage")⮑  button(-220,143,"plus","spts","handlesorcpts",1)⮑  button(-195,143,"minus","spts","handlesorcpts","-1")⮑  button(-220,-160,"plus","hdlhp","hp",1)⮑  button(-195,-160,"minus","hdlhp","hp",-1)⮑⮑  text:setsize(200)⮑  text:write(concat("hp: ",[hp]),-100,-213)⮑⮑  var tx⮑  tx = 0⮑  if([sorcerypts]>0)⮑  for([sorcerypts])⮑    window:img("sorcery point icon",[tx]-170,143)⮑    tx += 25⮑  end⮑  end⮑endfappinit⮑⮑function hp(chng)⮑  hp +=[chng]⮑  appinit()⮑endfhp⮑⮑function attackbox(x,y,name,dmg,rng,txt,msg)⮑  button([x],[y],"attack box","doattack","useattack",[msg])⮑  text:setsize(100)⮑  text:write([name],[x]-20,[y]+6)⮑  text:write([dmg],[x],[y]-10)⮑  text:write([rng],[x],[y]-26)⮑  text:setsize(70)⮑  text:write([txt],[x]-30,[y]-30)⮑endfattackbox⮑⮑⮑function button(x,y,costume,triggerevent,trigger,msg)⮑  window:createbutton([x],[y],[costume],[triggerevent],[msg])⮑  onevent([triggerevent],[trigger])⮑endfbutton⮑⮑function useattack(rsc)⮑  if([rsc]=3)⮑    lvl3spells--⮑  end⮑  if([rsc]=2)⮑    lvl2spells--⮑  end⮑  if([rsc]=1)⮑    lvl1spells--⮑  end⮑  appinit()⮑endfuseattack⮑⮑function handlesorcpts(fx)⮑  sorcerypts += [fx]⮑  if([sorcerypts]<0)⮑    sorcerypts = 0⮑  end⮑  appinit()⮑endfhandlesorcpts
